<div id="menu-button" onclick="toggleMenu()">â˜°</div>
<div id="side-menu">
  <a href="index.html">Home</a>
  <a href="submit.html">Submit a Joke</a>
  <a href="dashboard.html">Dashboard</a>
  <a href="register.html" id="register-link">Register</a>
  <a href="login.html" id="login-link">Login</a>
  <a href="#" onclick="logout()" id="logout-link" style="display:none;">Logout</a>
</div>

<script>
  function toggleMenu() {
    const menu = document.getElementById("side-menu");
    menu.style.left = menu.style.left === "0px" ? "-220px" : "0px";
  }

  function logout() {
    localStorage.removeItem("jokedropUser");
    window.location.href = "index.html";
  }

  const user = localStorage.getItem("jokedropUser");

  if (user) {
    document.getElementById("logout-link")?.style?.display = "block";
    document.getElementById("login-link")?.style?.display = "none";
    document.getElementById("register-link")?.style?.display = "none";

    if (user === "admin@joke-drop.com") {
      const modLink = document.createElement("a");
      modLink.href = "moderator.html";
      modLink.textContent = "Moderate Jokes";
      document.getElementById("side-menu")?.appendChild(modLink);
    }
  }
</script>