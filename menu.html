<div id="menu-button">â˜°</div>
<div id="side-menu">
  <a href="index.html">Home</a>
  <a href="submit.html">Submit a Joke</a>
  <a href="dashboard.html" id="dashboard-link" style="display:none">Dashboard</a>
  <a href="moderate.html" id="moderator-link" style="display:none">Moderator</a>
  <a href="register.html" id="register-link">Register</a>
  <a href="login.html" id="login-link">Login</a>
  <a href="#" id="logout-link" style="display:none" onclick="logout()">Logout</a>
</div>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const toggle = document.getElementById("menu-button");
    const panel = document.getElementById("side-menu");

    if (toggle && panel) {
      toggle.addEventListener("click", () => {
        panel.style.left = panel.style.left === "0px" ? "-220px" : "0px";
      });
    }

    const email = localStorage.getItem("jokedropUser");

    if (email) {
      document.getElementById("logout-link")?.style.setProperty("display", "block");
      document.getElementById("login-link")?.style.setProperty("display", "none");
      document.getElementById("register-link")?.style.setProperty("display", "none");
      document.getElementById("dashboard-link")?.style.setProperty("display", "block");

      if (email === "admin@joke-drop.com") {
        document.getElementById("moderator-link")?.style.setProperty("display", "block");
      }
    }
  });

  function logout() {
    localStorage.removeItem("jokedropUser");
    window.location.href = "index.html";
  }
</script>